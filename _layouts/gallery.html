---
layout: default
---
<article class="gallery">
  <header class="gallery-header">
    <h1 class="gallery-title">{{ page.title | escape }}</h1>
    {% if page.description %}
    <p class="gallery-description">{{ page.description }}</p>
    {% endif %}
  </header>

  <div class="gallery-content">
    {{ content }}

    {% if page.gallery_path %}
    <div class="photo-grid" aria-live="polite">
      {% assign image_files = site.static_files | where_exp: "file", "file.path contains page.gallery_path" %}
      {% for image in image_files %}
      <figure class="photo-item">
        <!--
              NOTE: This version prioritizes speed and zero layout jank.
              Images render at their natural aspect ratio; no JS layout work.
              If you later generate responsive variants, you can wrap the <img>
              with a <picture> (see comment near the end).
            -->
        <img src="{{ image.path | relative_url }}" alt="{{ image.name | escape }}" loading="lazy" decoding="async"
          fetchpriority="{% if forloop.index == 1 %}high{% else %}low{% endif %}">
      </figure>
      {% else %}
      <p>No images found in the specified gallery path.</p>
      {% endfor %}
    </div>
    {% else %}
    <p>No gallery path specified.</p>
    {% endif %}
  </div>
</article>

<style>
  /* Masonry-like layout using CSS columns: zero JS, great performance */
  .photo-grid {
    column-width: 320px;
    /* Browser chooses column count */
    column-gap: 16px;
    padding: 8px;
  }

  @media (min-width: 768px) {
    .photo-grid {
      column-width: 360px;
      column-gap: 18px;
    }
  }

  @media (min-width: 1200px) {
    .photo-grid {
      column-width: 420px;
      column-gap: 20px;
    }
  }

  .photo-item {
    break-inside: avoid;
    margin: 0 0 16px;
  }

  .photo-item img {
    display: block;
    width: 100%;
    height: auto;
    /* preserve each imageâ€™s aspect ratio */
    border-radius: 8px;
  }

  /* Optional: subtle fade-in for perceived speed */
  .photo-item img[loading="lazy"] {
    opacity: 0;
    transition: opacity .25s ease;
  }

  .photo-item img:is(:not([loading]), [loading="lazy"]:not(:placeholder-shown)) {
    opacity: 1;
  }
</style>